<?xml version="1.0" encoding="UTF-8"?>
<!--
        *
        * Copyright (c) 2010-2019 Contributors to the openHAB project
        *
        * See the NOTICE file(s) distributed with this work for additional
        * information.
        *
        * This program and the accompanying materials are made available under the
        * terms of the Eclipse Public License 2.0 which is available at
        * http://www.eclipse.org/legal/epl-2.0
        *
        * SPDX-License-Identifier: EPL-2.0
        *
-->
<!-- Velux Bridge Things Binding -->
<thing:thing-descriptions bindingId="velux"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

	<!-- Velux Bridge Binding -->
	<bridge-type id="klf200">
		<label>Velux KLF200 Bridge</label>
		<description>The Velux KLF200 represents a gateway to all Velux resp. io-homecontrol devices.</description>

		<channels>
			<channel id="status" typeId="status" />
			<channel id="reload" typeId="reload" />
			<channel id="timestamp" typeId="timestamp" />
			<channel id="doDetection" typeId="doDetection" />

			<channel id="firmware" typeId="firmware" />
			<channel id="ipAddress" typeId="ipAddress" />
			<channel id="subnetMask" typeId="subnetMask" />
			<channel id="defaultGW" typeId="defaultGW" />
			<channel id="DHCP" typeId="DHCP" />
			<channel id="WLANSSID" typeId="WLANSSID" />
			<channel id="WLANPassword" typeId="WLANPassword" />
			<channel id="products" typeId="products" />
			<channel id="scenes" typeId="scenes" />
			<channel id="check" typeId="products" />
			<channel id="shutter" typeId="shutter" />

		</channels>

		<properties>
			<property name="vendor">Velux</property>
		</properties>

		<config-description>
			<parameter name="bridgeIPAddress" type="text">
				<label>Bridge IP Address</label>
				<description>The IP address of the Velux Bridge.</description>
				<required>true</required>
			</parameter>
			<parameter name="bridgeProtocol" type="text">
				<label>Bridge Protocol</label>
				<description>The connection protocol to contact the Velux Bridge with (either slip or json).</description>
				<default>slip</default>
				<required>false</required>
				<advanced>true</advanced>
			</parameter>
			<parameter name="bridgeTCPPort" type="integer" required="false" min="1" max="65335">
				<label>Bridge Port</label>
				<description>TCP port of the Velux gateway</description>
				<default>51200</default>
				<required>false</required>
				<advanced>true</advanced>
			</parameter>
			<parameter name="bridgePassword" type="text">
				<label>Bridge Password</label>
				<description>Password for authentication against the Velux Bridge.</description>
				<required>true</required>
				<!-- Velux Bridge factory default -->
				<default>velux123</default>
			</parameter>
			<parameter name="timeoutMsecs" type="integer" min="1" step="1">
				<label>Timeout</label>
				<description>Initial Connection timeout in milliseconds.</description>
				<required>false</required>
				<default>1000</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="retries" type="integer" min="0" step="1">
				<label>Connection retries</label>
				<description>Number of retries with timing along the Binary Exponential Backoff (BEB) Algorithm.</description>
				<required>false</required>
				<default>5</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="refreshMsecs" type="integer" min="1" step="1">
				<label>Timeout</label>
				<description>Refresh interval in milliseconds.</description>
				<required>false</required>
				<default>15000</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="isBulkRetrievalEnabled" type="text">
				<label>Enable Bulk retrieval</label>
				<description>Fetch the complete actuator information in a bulk.</description>
				<required>false</required>
				<default>"true"</default>
				<advanced>true</advanced>
			</parameter>

		</config-description>
	</bridge-type>

</thing:thing-descriptions>

<!-- ==================================== -->
<!-- end-of-ESH-INF/thing/bridge.xml -->
<!-- ==================================== -->
